<!DOCTYPE html>
<html
        data-os="Unknown"
        data-connected="false"
        data-bs-theme="light"
        data-highlight-profile-params="true"
>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link id="data-refresh" type="text/css" rel="stylesheet" href="output.css?" media="all" />
    <link type="text/css" rel="stylesheet" href="./src/css/styles.css" media="all" />
    <script type="text/javascript">require('./js/configurator_main.js');</script>
    <!-- TODO: Update to newer Versions and use proper modules (require) -->
    <script type="text/javascript" src="./js/libraries/three/three.min.js"></script>
    <script type="text/javascript" src="./js/libraries/three/OrbitControls.js"></script>
    <script type="text/javascript" src="./js/libraries/three/GLTFLoader.js"></script>
    <title>INAV Configurator</title>
</head>

<body>

<div class="app-container">
    <div class="app-header p-3" data-theme-override data-bs-theme="dark">
        <div class="logotype d-flex">
            <div class="logo">
                <img src="images/cf_logo_white.svg" class="d-none-dark" alt="Logo"/>
                <img src="images/cf_logo_black.svg" class="d-none-light" alt="Logo"/>
            </div>
            <div class="versions text-muted d-flex flex-column justify-content-end lh-1 ms-1">
                <div>
<!--                    <small i18n="mainLogoText"></small>-->
                    <small data-configurator-version-info></small>
                </div>
                <div>
                    <small i18n="mainLogoTextFirmware"></small>
                    <small class="text-nowrap" data-firmware-version-info></small>
                </div>
            </div>
        </div>
        <div class="widget-group-1 header-gap d-flex mode-connected">
            <div class="uav-status d-flex align-items-center">
                <div id="quad-status_wrapper">
                    <div class="bottomStatusIcons">
                        <div class="armedicon cf_tip" data-i18n_title="mainHelpArmed"></div>
                        <div class="failsafeicon cf_tip" data-i18n_title="mainHelpFailsafe"></div>
                        <div class="linkicon cf_tip" data-i18n_title="mainHelpLink"></div>
                    </div>
                </div>
            </div>

            <div class="vr"></div>

            <div class="battery vstack text-center justify-content-between">
                <div class="battery-wrapper border border-2 rounded-2 border-secondary-subtle">
                    <div id="battery-indicator" class="rounded-1 h-100">
                    </div>
                    <div class="battery-element rounded-end"></div>
                </div>
                <small id="battery-voltage" i18n="sensorBatteryVoltage"></small>
            </div>

            <style>
                .battery-wrapper {
                    --element-width: .25rem;
                    --element-height: .75rem;
                    position: relative;
                    border-radius: 2px;
                    width: 3rem;
                    height: 1.5rem;
                    margin-right: var(--element-width);
                }
                .battery-element {
                    width: var(--element-width);
                    height: var(--element-height);
                    background: var(--inav-secondary-border-subtle);
                    position: absolute;
                    right: calc(-2px - var(--element-width));
                    top: calc(50% - var(--element-height) / 2);
                }
            </style>

            <div class="vr"></div>

            <!--            TODO -->
            <div id="dataflash_wrapper_global" class="d-flex justify-content-center min-w-7r">
                <div class="dataflash-contents_global flex-column justify-content-between">
                    <small id="dataflash-free-space" i18n="sensorDataFlashFreeSpace"></small>
                    <div class="progress" role="progressbar">
                        <div class="progress-bar dataflash-free_global"></div>
                    </div>
                </div>
                <div class="noflash_global">
                    <div class="border rounded px-3 h-100 text-center d-flex align-items-center">
                        <small class="text-muted" i18n="sensorDataFlashNotFound"></small>
                    </div>
                </div>
            </div>

            <div class="vr"></div>

        </div>

        <div class="widget-group-2 header-gap d-flex mode-connected">
            <div class="sensors d-flex">
                <ul id="sensors" class="list-group list-group-horizontal">
                    <li data-sensor="gyro" class="list-group-item" i18n_title="sensorStatusGyro">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_gyro_on.png);"></div>
                        <span class="" i18n="sensorStatusGyroShort"></span>
                    </li>
                    <li data-sensor="accel" class="list-group-item" i18n_title="sensorStatusAccel">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_acc_on.png);"></div>
                        <span class="" i18n="sensorStatusAccelShort"></span>
                    </li>
                    <li data-sensor="mag" class="list-group-item" i18n_title="sensorStatusMag">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_mag_on.png);"></div>
                        <span class="" i18n="sensorStatusMagShort"></span>
                    </li>
                    <li data-sensor="baro" class="list-group-item" i18n_title="sensorStatusBaro">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_baro_on.png);"></div>
                        <span class="" i18n="sensorStatusBaroShort"></span>
                    </li>
                    <li data-sensor="gps" class="list-group-item" i18n_title="sensorStatusGPS">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_sat_on.png);"></div>
                        <span class="" i18n="sensorStatusGPSShort"></span>
                    </li>
                    <li data-sensor="opflow" class="list-group-item" i18n_title="sensorOpticalFlow">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_flow_on.png);"></div>
                        <span class="" i18n="sensorOpticalFlowShort"></span>
                    </li>
                    <li data-sensor="sonar" class="list-group-item" i18n_title="sensorStatusSonar">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_sonar_on.png);"></div>
                        <span class="" i18n="sensorStatusSonarShort"></span>
                    </li>
                    <li data-sensor="airspeed" class="list-group-item" i18n_title="sensorAirspeed">
                        <div class="background-mask" style="mask-image: url(./images/icons/sensor_airspeed_on.png);"></div>
                        <span class="" i18n="sensorAirspeedShort"></span>
                    </li>
                </ul>
            </div>

            <div class="vr"></div>

            <div class="profiles d-flex justify-content-end">
                <!--                Flash Info-->
                <div><small>Profiles:</small></div>
                <div class="d-flex gap-1 w-100">
                    <select class="profile-input-control form-select py-0 min-w-4r" id="profilechange">
                        <option value="0" i18n="sensorProfile1"></option>
                        <option value="1" i18n="sensorProfile2"></option>
                        <option value="2" i18n="sensorProfile3"></option>
                    </select>
                    <select class="profile-input-mixer form-select py-0 min-w-4r" id="mixerprofilechange">
                        <option value="0" i18n="mixerProfile1"></option>
                        <option value="1" i18n="mixerProfile2"></option>
                    </select>
                    <select class="profile-input-battery form-select py-0 min-w-4r" id="batteryprofilechange">
                        <option value="0" i18n="sensorBatteryProfile1"></option>
                        <option value="1" i18n="sensorBatteryProfile2"></option>
                        <option value="2" i18n="sensorBatteryProfile3"></option>
                    </select>

                </div>

            </div>

            <div class="vr d-none d-xl-inline-block"></div>

        </div>
        <div class="connections d-flex">

            <div class="connection d-flex">

                <div class="mode-disconnected">

                    <div class="d-flex gap-2 px-3 align-items-start">

                        <div id="port-override-option">
                            <div class="input-group w-10r">
                                <span id="port-override-label" for="port-override" class="input-group-text" i18n="mainPortOverrideLabel"></span>
                                <input id="port-override" type="text" class="form-control" value="/dev/rfcomm0">
                            </div>
                        </div>

                        <select class="form-select mw-12r" id="port" title="Port">
                            <option value="manual" i18n="mainManual"></option>
                            <!-- port list gets generated here -->
                        </select>

                        <select class="form-select mw-8r" id="baud" title="Baud Rate">
                            <option value="115200" selected="selected">115200</option>
                            <option value="57600">57600</option>
                            <option value="38400">38400</option>
                            <option value="28800">28800</option>
                            <option value="19200">19200</option>
                            <option value="14400">14400</option>
                            <option value="9600">9600</option>
                            <option value="4800">4800</option>
                            <option value="2400">2400</option>
                            <option value="1200">1200</option>
                        </select>

                        <div class="form-check form-switch form-switch-sm w-12r">
                            <input id="wireless-mode" class="form-check-input" type="checkbox" role="switch" >
                            <label for="wireless-mode" class="form-check-label ms-0" data-i18n="wirelessModeSwitch"></label>
                        </div>

                    </div>

                </div>

                <div class="connect-button d-flex">
                    <button id="connect-btn" class="btn btn-primary btn-lg" data-i18n="connect"></button>
                </div>

            </div>

            <div class="vstack justify-content-center">
                <a id="options" href="#" data-i18n_title="options_title"></a>
            </div>
        </div>

    </div>
    <div id="logs" class="app-logs lh-lg" data-theme-override data-bs-theme="dark">
        <span id="logs-toggle" class="logs-toggle px-2 text-muted lh-lg bg-body-tertiary" i18n="mainShowLog"></span>
        <div id="logs-stream" class="logs-stream px-3"></div>
    </div>
    <div class="app-sidebar" data-theme-override data-bs-theme="dark">

        <div id="tabs">
            <ul class="mode-disconnected sidebar-nav nav flex-column">
                <li data-tab="landing" class="nav-item">
                    <a class="nav-link icon-welcome" href="#" data-i18n="tabLanding"></a>
                </li>
                <li data-tab="help" class="nav-item">
                    <a class="nav-link icon-help" href="https://github.com/iNavFlight/inav/wiki" target="_blank" data-i18n="tabHelp"></a>
                </li>
                <li data-tab="mission_control" class="nav-item">
                    <a class="nav-link icon-mission-control" href="#" data-i18n="tabMissionControl"></a>
                </li>
                <li data-tab="firmware_flasher" class="nav-item">
                    <a class="nav-link icon-firmware-flasher" href="#" data-i18n="tabFirmwareFlasher"></a>
                </li>
                <li data-tab="sitl" class="nav-item">
                    <a class="nav-link icon-sitl" href="#" data-i18n="tabSitl"></a>
                </li>
            </ul>

            <ul class="mode-connected sidebar-nav nav flex-column">
                <li data-tab="setup" class="nav-item">
                    <a href="#" data-i18n="tabSetup" class="nav-link icon-setup" data-i18n_title="tabSetup"></a>
                </li>
                <li data-tab="calibration" class="nav-item">
                    <a href="#" data-i18n="tabCalibration" class="nav-link icon-calibration" title="Calibration"></a>
                </li>
                <li data-tab="mixer" class="nav-item">
                    <a href="#" data-i18n="tabMixer" class="nav-link icon-mixer" title="Mixer"></a>
                </li>
                <li data-tab="outputs" class="nav-item">
                    <a href="#" data-i18n="tabOutputs" class="nav-link icon-outputs" title="Outputs"></a>
                </li>
                <li data-tab="ports" class="nav-item">
                    <a href="#" data-i18n="tabPorts" class="nav-link icon-ports" title="Ports"></a>
                </li>
                <li data-tab="configuration" class="nav-item">
                    <a href="#" data-i18n="tabConfiguration" class="nav-link icon-configuration" title="Configuration"></a>
                </li>
                <li data-tab="failsafe" class="nav-item">
                    <a href="#" data-i18n="tabFailsafe" class="nav-link icon-failsafe" title="Failsafe"></a>
                </li>
                <li data-tab="pid_tuning" class="nav-item">
                    <a href="#" data-i18n="tabPidTuning" class="nav-link icon-pid-tuning" data-i18n_title="tabPidTuning"></a>
                </li>
                <li data-tab="advanced_tuning" class="nav-item">
                    <a href="#" data-i18n="tabAdvancedTuning" class="nav-link icon-advanced-tuning" title="Advanced Tuning"></a>
                </li>
                <li data-tab="programming" class="nav-item">
                    <a href="#" data-i18n="tabProgramming" class="nav-link icon-programming" title="Programming"></a>
                </li>
                <li data-tab="receiver" class="nav-item">
                    <a href="#" data-i18n="tabReceiver" class="nav-link icon-receiver" title="Receiver"></a>
                </li>
                <li data-tab="auxiliary" class="nav-item">
                    <a href="#" data-i18n="tabAuxiliary" class="nav-link icon-auxiliary" title="Modes"></a>
                </li>
                <li data-tab="adjustments" class="nav-item">
                    <a href="#" data-i18n="tabAdjustments" class="nav-link icon-adjustments" title="Adjustments"></a>
                </li>
                <li data-tab="gps" class="nav-item">
                    <a href="#" data-i18n="tabGPS" class="nav-link icon-gps" title="GPS"></a>
                </li>
                <li data-tab="magnetometer" class="nav-item">
                    <a href="#" data-i18n="tabMAGNETOMETER" class="nav-link icon-magnetometer" title="MAGNETOMETER"></a>
                </li>
                <li data-tab="mission_control" class="nav-item">
                    <a href="#" data-i18n="tabMissionControl" class="nav-link icon-mission-control" title="Mission Control"></a>
                </li>
                <li data-tab="osd" class="nav-item">
                    <a href="#" data-i18n="tabOSD" class="nav-link icon-osd" title="OSD"></a>
                </li>
                <li data-tab="led_strip" class="nav-item">
                    <a href="#" data-i18n="tabLedStrip" class="nav-link icon-led-strip" title="LED Strip"></a>
                </li>
                <li data-tab="sensors" class="nav-item">
                    <a href="#" data-i18n="tabRawSensorData" class="nav-link icon-sensors" title="Sensors"></a>
                </li>
                <li data-tab="logging" class="nav-item">
                    <a href="#" data-i18n="tabLogging" class="nav-link icon-logging" title="Tethered Logging"></a>
                </li>
                <li data-tab="onboard_logging" class="nav-item">
                    <a href="#" data-i18n="tabOnboardLogging" class="nav-link icon-onboard-logging" title="Onboard Logging"></a>
                </li>
                <li data-tab="cli" class="nav-item icon-cli">
                    <a href="#" data-i18n="tabCLI" class="nav-link icon-cli" title="CLI"></a>
                </li>
            </ul>
        </div>



    </div>
    <div class="app-content" id="content">
        <div id="loading" class="vstack position-absolute w-100 h-100 top-0 justify-content-center align-items-center bg-body d-none">
            <img class="loading-bars" src="./images/loading-bars.svg" alt="Loading.."/>
            <div i18n="waitingForData"></div>
        </div>
    </div>
    <div id="status-bar" class="app-statusbar d-flex border-top py-1 text-nowrap text-muted">
        <div class="status-bar-item">
            <span data-i18n="statusbar_packet_error"></span>
            <span class="packet-error">0</span>
        </div>
        <div class="status-bar-item">
            <span data-i18n="statusbar_i2c_error"></span>
            <span class="i2c-error">0</span>
        </div>
        <div class="status-bar-item">
            <span data-i18n="statusbar_cycle_time"></span>
            <span class="cycle-time">0</span>
        </div>
        <div class="status-bar-item">
            <span class="cpu-load"></span>
        </div>
        <div class="status-bar-item">
            <span id="msp-version"></span>
        </div>
        <div class="status-bar-item">
            <span id="msp-load"></span>
        </div>
        <div class="status-bar-item">
            <span id="msp-roundtrip"></span>
        </div>
        <div class="status-bar-item">
            <span id="hardware-roundtrip"></span>
        </div>
        <div class="status-bar-item d-inline-block text-truncate arming-flags-title">
            <span class="arming-flags-title" data-i18n="statusbar_arming_flags"></span>
            <span class="arming-flags-title arming-flags">-</span>
        </div>
        <div class="status-bar-item version">
            <!-- configuration version generated here -->
        </div>
    </div>
</div>


<div id="appUpdateNotification" class="is-hidden">
    <div class="modal__content">
        <h1 class="modal__title modal__title" data-i18n="appUpdateNotificationHeader"></h1>
        <div class="modal__text" data-i18n="appUpdateNotificationDescription"></div>
    </div>
    <div class="modal__buttons modal__buttons--upbottom">
        <a href="https://github.com/iNavFlight/inav-configurator/releases" target="_blank"
           id="update-notification-download"
           class="modal__button modal__button--main modal__button--main--inline"
           data-i18n="downloadUpdatesBtn"></a>
        <a id="update-notification-close" class="modal__button modal__button--main modal__button--main--inline"
           data-i18n="closeUpdateBtn"></a>
    </div>
</div>

    <div id="main-wrapper">
        <div id="view-groundstation" style="display: none;">
            <div id="groundstation-telemetry">
                <h2 class="groundstation-telemetry__header" data-i18n="gsTelemetry"></h2>
                <div class="groundstation-telemetry__row groundstation-telemetry__row--big">
                    <label for="gs-telemetry-voltage" class="groundstation-telemetry__label" data-i18n="gsTelemetryVoltageShort"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-voltage">-</div>
                </div>
                <div class="groundstation-telemetry__row groundstation-telemetry__row--big">
                    <label for="gs-telemetry-altitude" class="groundstation-telemetry__label" data-i18n="gsTelemetryAltitudeShort"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-altitude">-</div>
                </div>
                <div class="groundstation-telemetry__row groundstation-telemetry__row--big">
                    <label for="gs-telemetry-speed" class="groundstation-telemetry__label" data-i18n="gsTelemetrySpeed"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-speed">-</div>
                </div>
                <div class="groundstation-telemetry__row">
                    <label for="gs-telemetry-latitude" class="groundstation-telemetry__label" data-i18n="gsTelemetryLatitude"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-latitude">-</div>
                </div>
                <div class="groundstation-telemetry__row">
                    <label class="groundstation-telemetry__label" for="gs-telemetry-longitude" data-i18n="gsTelemetryLongitude"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-longitude">-</div>
                </div>
                <div class="groundstation-telemetry__row">
                    <label class="groundstation-telemetry__label" for="gs-telemetry-longitude" data-i18n="gsTelemetrySats"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-sats">-</div>
                </div>
                <div class="groundstation-telemetry__row">
                    <label class="groundstation-telemetry__label" for="gs-telemetry-longitude" data-i18n="gsTelemetryFix"></label>
                    <div class="groundstation-telemetry__value" id="gs-telemetry-fix">-</div>
                </div>
            </div>
            <div id="groundstation-map"></div>
        </div>
        <div id="cache">
            <div class="data-loading">
                <p i18n="waitingForData"></p>
            </div>
        </div>
    </div>

    <div id="modal-reconnect" class="is-hidden">
        <div data-i18n="deviceRebooting">Device - <span style="color: var(--inav-danger)">Rebooting</span></div>
    </div>

    <div id="modal-saving-defaults" class="is-hidden">
        <div data-i18n="savingDefaults"></div>
    </div>

    <div id="defaults-wrapper" style="display: none">

        <div class="defaults-dialog__background"></div>
        <div class="defaults-dialog__wizard"></div>
        <div class="defaults-dialog__content">
            <div class="tab_title" data-i18n="defaultsDialogTitle"></div>
            <div class="defaults-dialog__content--wrapper">
                <p class="defaults-dialog__info" data-i18n="defaultsDialogInfo"></p>
                <p class="defaults-dialog__info" data-i18n="defaultsDialogInfo2"></p>
                <div class="defaults-dialog__options"></div>
            </div>
        </div>
    </div>

</body>

</html>