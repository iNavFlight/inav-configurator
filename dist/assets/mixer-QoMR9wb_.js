import{T as D,p as q,G as I,m as T,n as Y,i as R,M as ne,d as de,$ as e,_ as l,el as A,k as j,F as r,em as J,q as g,en as O,eo as ue,b as _e,o as me,ep as m,eq as M}from"./index--BqaKNiR.js";D.mixer={};D.mixer.initialize=function(S,pe){let C=new q,U=new q,n,E,y,P,w,L,F,V;I.active_tab!="mixer"&&(I.active_tab="mixer"),C.setChain([T.loadMixerConfig,T.loadMotors,T.loadServoMixRules,T.loadMotorMixRules,T.loadOutputMappingExt,T.loadTimerOutputModes,T.loadLogicConditions,T.loadEzTune]),C.setExitPoint(te),C.execute(),U.setChain([T.saveMixerConfig,T.sendServoMixer,T.sendMotorMixer,T.sendTimerOutputModes,K,T.saveToEeprom]),U.setExitPoint(Q);function K(s){Y.saveInputs(s)}function Q(){I.log(R.getMessage("configurationEepromSaved")),I.tab_switch_cleanup(function(){ne.send_message(de.MSP_SET_REBOOT,!1,!1,ee)})}function ee(){I.log(R.getMessage("deviceRebooting")),I.handleReconnect(e(".tab_mixer a"))}function te(){l(async()=>{const{default:s}=await import("./mixer-BKszUAYN.js");return{default:s}},[],import.meta.url).then(({default:s})=>I.load(s,Y.processHtml(ae)))}function re(){let s=r.OUTPUT_MAPPING.getOutputCount(),o=e("#output-row"),i=e("#function-row");o.append('<th data-i18n="mappingTableOutput"></th>'),i.append('<th data-i18n="mappingTableFunction"></th>');for(let t=1;t<=s;t++){let a=r.OUTPUT_MAPPING.getTimerId(t-1),u=r.OUTPUT_MAPPING.getOutputTimerColor(t-1),f=r.OUTPUT_MAPPING.isLedPin(t-1);o.append('<td style="background-color: '+u+'">S'+t+(f?"/LED":"")+" (Timer&nbsp;"+(a+1)+")</td>"),i.append('<td id="function-'+t+'">-</td>')}o.find("td").css("width",100/(s+1)+"%")}function oe(){let s=r.OUTPUT_MAPPING.getUsedTimerIds();for(let o=0;o<s.length;++o){let i=s[o],t=e("#timer-output-"+i);t&&r.OUTPUT_MAPPING.setTimerOverride(i,t.val())}}function ie(){r.OUTPUT_MAPPING.getOutputCount();let s=e("#timerOutputsList"),o=r.OUTPUT_MAPPING.getUsedTimerIds();for(let t of o){var i=r.OUTPUT_MAPPING.getTimerOverride(t);s.append('<div class="select" style="padding: 5px; margin: 1px; background-color: '+r.OUTPUT_MAPPING.getTimerColor(t)+'"><select id="timer-output-'+t+'"><option value='+r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_AUTO+(i==r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_AUTO?" selected":"")+">AUTO</option><option value="+r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_MOTORS+(i==r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_MOTORS?" selected":"")+">MOTORS</option><option value="+r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_SERVOS+(i==r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_SERVOS?" selected":"")+">SERVOS</option><option value="+r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_LED+(i==r.OUTPUT_MAPPING.TIMER_OUTPUT_MODE_LED?" selected":"")+'>LED</option></select><label for="timer-output-'+t+'"><span> Timer '+(parseInt(t)+1)+"</span></label></div>")}}function v(){let s=r.OUTPUT_MAPPING.getOutputTable(r.MIXER_CONFIG.platformType==O.MULTIROTOR||r.MIXER_CONFIG.platformType==O.TRICOPTER,r.MOTOR_RULES.getNumberOfConfiguredMotors(),r.SERVO_RULES.getUsedServoIndexes());for(let o=1;o<=r.OUTPUT_MAPPING.getOutputCount();o++)e("#function-"+o).html(s[o-1]);G(s)}function G(s){let o=e(".mixerPreview");if(o.find(".outputImageNumber").remove(),e(".mix-rule-servo").each(function(){e(this).css("background-color",""),e(this).css("font-weight",""),e(this).css("color","")}),r.MIXER_CONFIG.platformType==O.AIRPLANE&&s!=null&&n.hasOwnProperty("imageOutputsNumbers")){let i=1,t=null,a=null,u={aileronSet:g.countSurfaceType(n,m.STABILIZED_ROLL),elevatorSet:g.countSurfaceType(n,m.STABILIZED_PITCH),rudderSet:g.countSurfaceType(n,m.STABILIZED_YAW)},f=[],d=r.SERVO_RULES;for(let _ of s){if(_!="-")if(_=_.split(" "),_[0]=="Motor")f.push(i);else{let c=d.getServoMixRuleFromTarget(_[1]);if(c==null)continue;let p="servoPreview"+_[1];switch(parseInt(c.getInput())){case m.STABILIZED_PITCH:case M.PITCH_POSITIVE:case M.PITCH_NEGATIVE:case m.RC_PITCH:t=b(n.imageOutputsNumbers,m.STABILIZED_PITCH,u.elevatorSet),t!=null&&(o.append('<div id="'+p+'" class="outputImageNumber">S'+i+"</div>"),e("#"+p).css("top",t.top+"px"),e("#"+p).css("left",t.left+"px"),e("#"+p).css("border-color",t.colour),a=N(c.getTarget()),a.length>0&&e.each(a,function(){e(this).css("background-color",t.colour),e(this).css("font-weight","bold"),e(this).css("color","#FFFFFF")}),u.elevatorSet--);break;case m.STABILIZED_ROLL:case M.ROLL_POSITIVE:case M.ROLL_NEGATIVE:case m.RC_ROLL:t=b(n.imageOutputsNumbers,m.STABILIZED_ROLL,u.aileronSet),t!=null&&(o.append('<div id="'+p+'" class="outputImageNumber">S'+i+"</div>"),e("#"+p).css("top",t.top+"px"),e("#"+p).css("left",t.left+"px"),e("#"+p).css("border-color",t.colour),a=N(c.getTarget()),a.length>0&&e.each(a,function(){e(this).css("background-color",t.colour),e(this).css("font-weight","bold"),e(this).css("color","#FFFFFF")}),u.aileronSet--);break;case m.STABILIZED_YAW:case M.YAW_POSITIVE:case M.YAW_NEGATIVE:case m.RC_YAW:t=b(n.imageOutputsNumbers,m.STABILIZED_YAW,u.rudderSet),t!=null&&(o.append('<div id="'+p+'" class="outputImageNumber">S'+i+"</div>"),e("#"+p).css("top",t.top+"px"),e("#"+p).css("left",t.left+"px"),e("#"+p).css("border-color",t.colour),a=N(c.getTarget()),a.length>0&&e.each(a,function(){e(this).css("background-color",t.colour),e(this).css("font-weight","bold"),e(this).css("color","#FFFFFF")}),u.rudderSet--);break}}i++}f.length>0&&(o.append('<div id="motorsPreview" class="outputImageNumber isMotor">S'+f.join("/")+"</div>"),t=b(n.imageOutputsNumbers,m.STABILIZED_THROTTLE,0),t!=null&&(e("#motorsPreview").css("top",t.top+"px"),e("#motorsPreview").css("left",t.left+"px"),e("#motorsPreview").css("border-color",t.colour)))}}var B=-1,k=-1,X=-1;function b(s,o,i){let t=null;for(let a of s)if(a.input==o&&((o===m.STABILIZED_THROTTLE||i>0&&(o===m.STABILIZED_YAW&&i!==X||o===m.STABILIZED_ROLL&&i!==B||o===m.STABILIZED_PITCH&&i!==k))&&(t=a),o===m.STABILIZED_ROLL?B=i-1:o===m.STABILIZED_PITCH?k=i-1:o===m.STABILIZED_YAW&&(X=i-1),t!==null))break;return t}function N(s){let o=[];return e(".mix-rule-servo").each(function(){e(this).val()==s&&o.push(e(this))}),o}function h(){let s=r.SERVO_RULES.get();P.find("*").remove();for(let i in s)if(s.hasOwnProperty(i)){const t=s[i];P.append('                    <tr>                    <td><input type="number" class="mix-rule-servo" step="1" min="0" max="15" /></td>                    <td><select class="mix-rule-input"></select></td>                    <td class="mixer-fixed-value-col"><input type="number" class="mix-rule-fixed-value" min="875" max="2125" disabled /></td>                     <td><input type="number" class="mix-rule-rate" step="1" min="-125" max="125" /></td>                    <td><input type="number" class="mix-rule-speed" step="1" min="0" max="255" /></td>                    <td class="mixer-table__condition"></td>                    <td><span class="btn default_btn narrow red"><a href="#" data-role="role-servo-delete" data-i18n="servoMixerDelete"></a></span></td>                    </tr>                ');const a=P.find("tr:last");I.renderLogicConditionSelect(a.find(".mixer-table__condition"),r.LOGIC_CONDITIONS,t.getConditionId(),function(){t.setConditionId(e(this).val())},!0,!0),I.fillSelect(a.find(".mix-rule-input"),r.getServoMixInputNames(),t.getInput()),r.MIXER_CONFIG.hasFlaps||a.find(".mix-rule-input").children('option[value="14"]').remove(),a.find(".mix-rule-input").val(t.getInput()).on("change",function(){t.setInput(e(this).val()),$(a,e(this)),v()}),a.find(".mix-rule-servo").val(t.getTarget()).on("change",function(){t.setTarget(Number(e(this).val()))}),a.find(".mix-rule-rate").val(t.getRate()).on("change",function(){t.setRate(e(this).val()),a.find(".mix-rule-fixed-value").val(z(e(this).val()))}),a.find(".mix-rule-fixed-value").val(z(a.find(".mix-rule-rate").val())),a.find(".mix-rule-speed").val(t.getSpeed()).on("change",function(){t.setSpeed(e(this).val())}),a.find("[data-role='role-servo-delete']").attr("data-index",i),$(a,a.find(".mix-rule-input"))}let o=e(".mix-rule-rate");o.attr("min",-1e3),o.attr("max",1e3),R.localize()}function $(s,o){const i=s.find(".mix-rule-fixed-value");r.getServoMixInputNames()[o.val()]==="MAX"?i.show():(i.hide(),s.find(".mix-rule-speed").prop("disabled",!1));const t=e("#servo-mix-table").find(".mixer-fixed-value-col"),a=r.SERVO_RULES.get();for(let u in a)if(a.hasOwnProperty(u)&&r.getServoMixInputNames()[a[u].getInput()]==="MAX"){t.show();return}t.hide()}function z(s){return(parseInt(s)+100)*1e3/200+1e3}function Z(){let s=0;var o;if(n.id==E?o=r.MOTOR_RULES.get():o=n.motorMixer,n.image!="quad_x")for(let i=1;i<5;i++)e("#motorNumber"+i).css("visibility","hidden");for(const i in o)if(o.hasOwnProperty(i)){const t=o[i];if(s++,n.image!="quad_x")continue;let a=30,u=28;t.getRoll()<-.5&&(u=e("#motor-mixer-preview-img").width()-42),t.getPitch()>.5&&(a=e("#motor-mixer-preview-img").height()-42),e("#motorNumber"+s).css("left",u+"px"),e("#motorNumber"+s).css("top",a+"px"),e("#motorNumber"+s).removeClass("is-hidden"),e("#motorNumber"+s).css("visibility","visible")}}function x(){var s=r.MOTOR_RULES.get();L.find("*").remove();let o=0;for(const i in s)if(s.hasOwnProperty(i)){let d=function(){t.setThrottle(u.val()),parseFloat(u.val())>1||parseFloat(u.val())<0?(u.css("background-color","orange"),f.show()):(u.css("background-color",""),f.hide())};const t=s[i];o++,L.append('                    <tr>                    <td><span class="mix-rule-motor"></span></td>                    <td>                        <input type="number" class="mix-rule-throttle" step="0.001" min="-2" max="2" />                        <div class="throttle-warning-text" data-i18n="mixerThrottleWarning" ></div>                    </td>                    <td><input type="number" class="mix-rule-roll" step="0.001" min="-2" max="2" /></td>                    <td><input type="number" class="mix-rule-pitch" step="0.001" min="-2" max="2" /></td>                    <td><input type="number" class="mix-rule-yaw" step="0.001" min="-2" max="2" /></td>                    <td><span class="btn default_btn narrow red"><a href="#" data-role="role-motor-delete" data-i18n="servoMixerDelete"></a></span></td>                    </tr>                ');const a=L.find("tr:last");a.find(".mix-rule-motor").html(o);const u=a.find(".mix-rule-throttle").val(t.getThrottle()),f=a.find(".throttle-warning-text");d(),u.on("change",d),a.find(".mix-rule-roll").val(t.getRoll()).on("change",function(){t.setRoll(e(this).val())}),a.find(".mix-rule-pitch").val(t.getPitch()).on("change",function(){t.setPitch(e(this).val())}),a.find(".mix-rule-yaw").val(t.getYaw()).on("change",function(){t.setYaw(e(this).val())}),a.find("[data-role='role-motor-delete']").attr("data-index",i)}Z(),R.localize()}function H(){r.SERVO_RULES.cleanup(),r.SERVO_RULES.inflate(),r.MOTOR_RULES.cleanup(),r.MOTOR_RULES.inflate(),oe(),U.execute()}function ae(){y=e("#servo-mix-table"),P=y.find("tbody"),w=e("#motor-mix-table"),L=w.find("tbody");function s(){let d=g.getByPlatform(r.MIXER_CONFIG.platformType);t.find("*").remove();for(let _ in d)if(d.hasOwnProperty(_)){let c=d[_];t.append('<option value="'+c.id+'">'+c.name+"</option>")}}let o=e("#platform-type"),i=A.getList(),t=e("#mixer-preset"),a=e("#mixer-wizard");V=new j("Modal",{width:480,height:410,closeButton:"title",animation:!1,attach:a,title:R.getMessage("mixerWizardModalTitle"),content:e("#mixerWizardContent")});function u(){let d=0;for(let _=0;_<4;_++){const c=e("[data-motor] option:selected[id="+_+"]");c.length!=1?(d++,c.closest("tr").addClass("red-background")):c.closest("tr").removeClass("red-background")}return d==0}e(".wizard-motor-select").on("change",u),e("#wizard-execute-button").on("click",function(){if(u()){r.MOTOR_RULES.flush();for(let d=0;d<4;d++){const _=e(".wizard-motor-select");let c=-1;_.each(function(){parseInt(e(this).find(":selected").attr("id"),10)==d&&(c=parseInt(e(this).attr("data-motor"),10))});const p=n.motorMixer[c];r.MOTOR_RULES.put(new J(p.getThrottle(),p.getRoll(),p.getPitch(),p.getYaw()))}x(),v(),V.close()}});const f=function(){const _=e("input[name=motor_direction_inverted]:checked").val()==1&&(r.MIXER_CONFIG.platformType==O.MULTIROTOR||r.MIXER_CONFIG.platformType==O.TRICOPTER);me(Object.assign({"../resources/motor_order/airplane.svg":()=>l(()=>import("./airplane-C-DS9K0B.js"),[],import.meta.url),"../resources/motor_order/airplane_norudder.svg":()=>l(()=>import("./airplane_norudder-CNbGDGKy.js"),[],import.meta.url),"../resources/motor_order/airplane_vtail.svg":()=>l(()=>import("./airplane_vtail-mhX3kLAh.js"),[],import.meta.url),"../resources/motor_order/airplane_vtail_single.svg":()=>l(()=>import("./airplane_vtail_single-CuqaTccF.js"),[],import.meta.url),"../resources/motor_order/atail_quad.svg":()=>l(()=>import("./atail_quad-Ddo7xPy6.js"),[],import.meta.url),"../resources/motor_order/atail_quad_reverse.svg":()=>l(()=>import("./atail_quad_reverse-Cq8q7MI2.js"),[],import.meta.url),"../resources/motor_order/bicopter.svg":()=>l(()=>import("./bicopter-D5HN33O8.js"),[],import.meta.url),"../resources/motor_order/bicopter_reverse.svg":()=>l(()=>import("./bicopter_reverse-BdoETzjQ.js"),[],import.meta.url),"../resources/motor_order/custom.svg":()=>l(()=>import("./custom-DnhRHfBL.js"),[],import.meta.url),"../resources/motor_order/flying_wing.svg":()=>l(()=>import("./flying_wing-SBU5JtwR.js"),[],import.meta.url),"../resources/motor_order/hex_p.svg":()=>l(()=>import("./hex_p-CptrH0bt.js"),[],import.meta.url),"../resources/motor_order/hex_p_reverse.svg":()=>l(()=>import("./hex_p_reverse-C2R3cyjD.js"),[],import.meta.url),"../resources/motor_order/hex_x.svg":()=>l(()=>import("./hex_x-DdJQHm55.js"),[],import.meta.url),"../resources/motor_order/hex_x_reverse.svg":()=>l(()=>import("./hex_x_reverse-CYvWai7o.js"),[],import.meta.url),"../resources/motor_order/octo_flat_p.svg":()=>l(()=>import("./octo_flat_p-CBS5TeBW.js"),[],import.meta.url),"../resources/motor_order/octo_flat_p_reverse.svg":()=>l(()=>import("./octo_flat_p_reverse-VNSfRGof.js"),[],import.meta.url),"../resources/motor_order/octo_flat_x.svg":()=>l(()=>import("./octo_flat_x-BwWO9ndd.js"),[],import.meta.url),"../resources/motor_order/octo_flat_x_reverse.svg":()=>l(()=>import("./octo_flat_x_reverse-D-WrOX7b.js"),[],import.meta.url),"../resources/motor_order/octo_x8.svg":()=>l(()=>import("./octo_x8-CuEeRRoQ.js"),[],import.meta.url),"../resources/motor_order/octo_x8_reverse.svg":()=>l(()=>import("./octo_x8_reverse-BtHubiKp.js"),[],import.meta.url),"../resources/motor_order/quad_p.svg":()=>l(()=>import("./quad_p-gOsh_DpQ.js"),[],import.meta.url),"../resources/motor_order/quad_p_reverse.svg":()=>l(()=>import("./quad_p_reverse-CdMqPcZw.js"),[],import.meta.url),"../resources/motor_order/quad_x.svg":()=>l(()=>import("./quad_x-p5_Jv4uX.js"),[],import.meta.url),"../resources/motor_order/quad_x_reverse.svg":()=>l(()=>import("./quad_x_reverse-Dtn7A2Eb.js"),[],import.meta.url),"../resources/motor_order/tri.svg":()=>l(()=>import("./tri-BrQHbqv6.js"),[],import.meta.url),"../resources/motor_order/tri_reverse.svg":()=>l(()=>import("./tri_reverse-CYImZFs2.js"),[],import.meta.url),"../resources/motor_order/vtail_quad.svg":()=>l(()=>import("./vtail_quad-5VCz9GeW.js"),[],import.meta.url),"../resources/motor_order/vtail_quad_reverse.svg":()=>l(()=>import("./vtail_quad_reverse-COoKWac3.js"),[],import.meta.url),"../resources/motor_order/y4.svg":()=>l(()=>import("./y4-D6SJU9OJ.js"),[],import.meta.url),"../resources/motor_order/y4_reverse.svg":()=>l(()=>import("./y4_reverse-KI2Mf8tm.js"),[],import.meta.url),"../resources/motor_order/y6.svg":()=>l(()=>import("./y6-BZNtYC2h.js"),[],import.meta.url),"../resources/motor_order/y6_reverse.svg":()=>l(()=>import("./y6_reverse-BfU3ynxS.js"),[],import.meta.url)}),`../resources/motor_order/${n.image}${_?"_reverse":""}.svg`,4).then(({default:c})=>{e(".mixerPreview img").attr("src",c)}),G()};e("#motor_direction_inverted").on("change",f),e("#motor_direction_normal").on("change",f),o.find("*").remove();for(let d in i)if(i.hasOwnProperty(d)){let _=i[d];o.append('<option value="'+_.id+'">'+_.name+"</option>")}o.on("change",function(){r.MIXER_CONFIG.platformType=parseInt(o.val(),10),A.getById(r.MIXER_CONFIG.platformType),o.parent(".select"),s(),t.trigger("change")}),A.getById(r.MIXER_CONFIG.platformType),o.val(r.MIXER_CONFIG.platformType).trigger("change"),t.on("change",function(){const d=parseInt(t.val(),10);n=g.getById(d),r.MIXER_CONFIG.appliedMixerPreset=d,n.id==3?e("#mixer-wizard-gui_box").removeClass("is-hidden"):e("#mixer-wizard-gui_box").addClass("is-hidden"),r.MIXER_CONFIG.platformType==O.AIRPLANE&&n.id!=E?e("#needToUpdateMixerMessage").removeClass("is-hidden"):e("#needToUpdateMixerMessage").addClass("is-hidden"),r.MIXER_CONFIG.platformType==O.MULTIROTOR||r.MIXER_CONFIG.platformType==O.TRICOPTER?(e("#motor_direction_inverted").parent().removeClass("is-hidden"),e("#platform-type").parent(".select").removeClass("no-bottom-border")):(e("#motor_direction_inverted").parent().addClass("is-hidden"),e("#platform-type").parent(".select").addClass("no-bottom-border")),I.updateEzTuneTabVisibility(!1)||(r.EZ_TUNE.enabled=0,T.saveEzTune()),W(),Z(),f()}),r.MIXER_CONFIG.appliedMixerPreset>-1?(E=r.MIXER_CONFIG.appliedMixerPreset,e("#needToUpdateMixerMessage").addClass("is-hidden"),t.val(r.MIXER_CONFIG.appliedMixerPreset).trigger("change")):t.trigger("change"),F=new j("Modal",{width:480,height:240,closeButton:"title",animation:!1,attach:e("#load-and-apply-mixer-button"),title:R.getMessage("mixerApplyModalTitle"),content:e("#mixerApplyContent")}),e("#execute-button").on("click",function(){E=n.id,g.loadServoRules(r,n),g.loadMotorRules(r,n),r.MIXER_CONFIG.hasFlaps=n.hasFlaps===!0,h(),x(),v(),F.close(),H()}),e("#load-mixer-button").on("click",function(){r.MIXER_CONFIG.platformType==O.AIRPLANE&&e("#needToUpdateMixerMessage").addClass("is-hidden"),E=n.id,g.loadServoRules(r,n),g.loadMotorRules(r,n),r.MIXER_CONFIG.hasFlaps=n.hasFlaps===!0,h(),x(),v(),W()}),e("#refresh-mixer-button").on("click",function(){n=g.getById(E),r.MIXER_CONFIG.platformType=n.platform,A.getById(r.MIXER_CONFIG.platformType),o.val(r.MIXER_CONFIG.platformType).trigger("change"),t.val(E).trigger("change"),h(),x(),v()}),P.on("click","[data-role='role-servo-delete']",function(d){r.SERVO_RULES.drop(e(d.currentTarget).attr("data-index")),h(),v()}),L.on("click","[data-role='role-motor-delete']",function(d){r.MOTOR_RULES.drop(e(d.currentTarget).attr("data-index")),x(),v()}),P.on("change","input",function(d){v()}),e("[data-role='role-servo-add']").on("click",function(){r.SERVO_RULES.hasFreeSlots()&&(r.SERVO_RULES.put(new ue(r.SERVO_RULES.getNextUnusedIndex(),0,100,0)),h(),v())}),e("[data-role='role-motor-add']").on("click",function(){r.MOTOR_RULES.hasFreeSlots()&&(r.MOTOR_RULES.put(new J(1,0,0,0)),x(),v())}),e("[data-role='role-logic-conditions-open']").on("click",function(){r.LOGIC_CONDITIONS.open()}),e("#save-button").on("click",H),h(),x(),re(),v(),ie(),r.LOGIC_CONDITIONS.init(e("#logic-wrapper")),R.localize(),_e.add("logic_conditions_pull",se,350),I.content_ready(S)}function W(){n.id!=E&&g.getById(E).platform==O.AIRPLANE||n.id==E&&n.platform==O.AIRPLANE?e("#refresh-mixer-button").parent().removeClass("is-hidden"):e("#refresh-mixer-button").parent().addClass("is-hidden")}function se(){T.loadLogicConditionsStatus(le)}function le(){r.LOGIC_CONDITIONS.update(r.LOGIC_CONDITIONS_STATUS)}};D.mixer.cleanup=function(S){e(".jBox-wrapper").remove(),S&&S()};
