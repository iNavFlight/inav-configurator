<div class="tab-configuration tab-mixer toolbar_fixed_bottom">
    <div class="content_wrapper" id="mixer-main-content">
        <div class="tab_title" data-i18n="tabMixer">Mixer</div>
        <!-- Top row -->
        <div>
            <div class="leftWrapper">
                <div class="platform-type gui_box grey">
                    <div class="gui_box_titlebar">
                        <div class="spacer_box_title" data-i18n="platformConfiguration"></div>
                    </div>
                    <div class="spacer_box">
                        <div class="select">
                            <select id="platform-type"></select>
                            <label for="platform-type">
                                <span data-i18n="platformType"></span>
                            </label>
                        </div>
                        <div class="radio">
                            <fieldset>
                            <legend>Motor direction</legend>
                            <label for="motor_direction_normal">
                                <input id="motor_direction_normal" name="motor_direction_inverted" type="radio"
                                        value="0" data-setting="motor_direction_inverted" class="left" />
                                <span data-i18n="motor_direction_inverted"></span>
                            </label><br class="clear-both"/>

                            <label class="checkbox-inline">
                                <input id="motor_direction_inverted" name="motor_direction_inverted" type="radio"
                                        value="1" data-setting="motor_direction_inverted" class="left"/>
                                <span data-i18n="motor_direction_isInverted"></span>
                            </span></label>

                            <div class="helpicon cf_tip" data-i18n_title="motor_direction_inverted_hint"></div>
                          </fieldset>
                        </div>


                        <div class="checkbox">
                            <input id="mixer_control_profile_linking" type="checkbox" class="toggle" data-setting="mixer_control_profile_linking" />
                            <label for="mixer_control_profile_linking"><span data-i18n="mixer_control_profile_linking"></span></label>
                            <div class="helpicon cf_tip" data-i18n_title="mixer_control_profile_linking_hint"></div>
                        </div>
                    </div>
                </div>
            
                <div class="platform-type gui_box grey">
                    <div class="gui_box_titlebar">
                        <div class="spacer_box_title" data-i18n="timerOutputs"></div>
                    </div>
                    <div class="spacer_box" id="timerOutputsList" style="padding: 0; width: calc(100% - 12px)"></div>
                </div>

            </div>
            <div class="rightWrapper">
                <div class="platform-type gui_box grey">
                    <div class="gui_box_titlebar">
                        <div class="spacer_box_title" data-i18n="mixerPresetTitle"></div>
                    </div>
                    <div class="spacer_box">
                        <div class="select position-relative">
                            <div class="mixerPreview" style="max-width: 175px">
                                <img src="./resources/motor_order/custom.svg" id="motor-mixer-preview-img"/>
                                <div class="motorNumber is-hidden" id="motorNumber1">1</div>
                                <div class="motorNumber is-hidden" id="motorNumber2">2</div>
                                <div class="motorNumber is-hidden" id="motorNumber3">3</div>
                                <div class="motorNumber is-hidden" id="motorNumber4">4</div>
                            </div>
                            <div class="half" style="width: calc(50% - 10px); margin-left: 10px;">
                                <select id="mixer-preset"></select>
                            </div>

                            <div class="mixer-load-button">
                                <div id="needToUpdateMixerMessage" class="is-hidden" data-i18n="mixerNotLoaded"></div>
                                <div class="btn default_btn narrow red">
                                    <a id="load-and-apply-mixer-button" href="#" data-i18n="mixerLoadAndApplyPresetRules"></a>
                                </div>
                                <div class="btn default_btn narrow">
                                    <a id="load-mixer-button" href="#" data-i18n="mixerLoadPresetRules"></a>
                                </div>
                                <div class="btn default_btn narrow is-hidden">
                                    <a id="refresh-mixer-button" href="#" data-i18n="mixerRefreshCurrentRules"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="platform-type gui_box grey" id="mixer-wizard-gui_box" is-hidden>
                    <div class="gui_box_titlebar">
                        <div class="spacer_box_title" data-i18n="mixerWizard"></div>
                    </div>
                
                    <div class="spacer_box">
                        <div class="btn default_btn narrow green">
                            <a id="mixer-wizard" href="#" data-i18n="mixerWizard"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clear-both"></div>

        <div class="gui_box grey">
            <div class="gui_box_titlebar">
                <div class="spacer_box_title" data-i18n="mappingTableTitle"></div>
            </div>
            <table class="output-table">
                <tr id="output-row">

                </tr>
                <tr id="function-row">

                </tr>
            </table>
        </div>

        <!-- middle row -->
        <div class="clear-both"></div>
        <!-- bottom row -->
        <div class="motor-mixer gui_box grey">
            <div class="gui_box_titlebar">
                <div class="spacer_box_title" data-i18n="motorMixer"></div>
            </div>
            <div class="spacer_box">
                <table id="motor-mix-table" class="mixer-table">
                    <thead>
                        <tr>
                            <th style="width: 75px" data-i18n="controlAxisMotor"></th>
                            <th data-i18n="controlAxisThrottle"></th>
                            <th data-i18n="controlAxisRoll"></th>
                            <th data-i18n="controlAxisPitch"></th>
                            <th data-i18n="controlAxisYaw"></th>
                            <th class="delete"></th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
                <div class="btn default_btn narrow pull-right green mixer_btn_add">
                    <a href="#" data-role="role-motor-add" data-i18n="servoMixerAdd"></a>
                </div>
            </div>
        </div>
        <div class="motor-mixer gui_box grey">
            <div class="gui_box_titlebar">
                <div class="spacer_box_title" data-i18n="servoMixer"></div>
            </div>
            <div class="spacer_box">
                <table id="servo-mix-table" class="mixer-table">
                    <thead>
                        <tr>
                            <th style="width: 75px" data-i18n="servo"></th>
                            <th data-i18n="input"></th>
                            <th data-i18n="fixedValue" class="mixer-fixed-value-col"></th>
                            <th data-i18n="weight"></th>
                            <th data-i18n="speed"></th>
                            <th data-i18n="active"></th>
                            <th class="delete"></th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
                <div class="btn default_btn narrow pull-right green mixer_btn_add">
                    <a href="#" data-role="role-servo-add" data-i18n="servoMixerAdd"></a>
                </div>
                <div class="btn default_btn narrow pull-left mixer_btn_logic">
                    <a href="#" data-role="role-logic-conditions-open" data-i18n="tabLogicConditions"></a>
                </div>
            </div>
        </div>

        <div id="logic-wrapper" style="display: none">
            <div class="logic__background"></div>
            <div class="logic__content">
                <div class="tab_title" data-i18n="tabLogicConditions"></div>
                <div class="logic__content--wrapper">
                    <table class="mixer-table logic__table">
                        <thead>
                            <tr>
                                <th style="width: 50px" data-i18n="logicId"></th>
                                <th style="width: 80px" data-i18n="logicEnabled"></th>
                                <th style="width: 120px" data-i18n="logicOperation"></th>
                                <th data-i18n="logicOperandA"></th>
                                <th data-i18n="logicOperandB"></th>
                                <th data-i18n="logicActivator"></th>
                                <th data-i18n="logicFlags"></th>
                                <th data-i18n="logicStatus"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <div class="logic__content--buttons content_toolbar">
                    <div class="btn save_btn">
                        <a href="#" class="logic__save" data-i18n="logicSave"></a>
                    </div>
                    <div class="btn save_btn red">
                        <a href="#" class="logic__close" data-i18n="logicClose"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="mixerApplyContent" class="is-hidden">
        <div class="modal__content">
            <h1 class="modal__title modal__title--warning" data-i18n="presetsApplyHeader"></h1>
            <div class="modal__text" data-i18n="mixerApplyDescription"></div>
        </div>
        <div class="modal__buttons">
            <a id="execute-button" class="modal__button modal__button--main" data-i18n="mixerButtonSaveAndReboot"></a>
        </div>
    </div>
    <div id="mixerWizardContent" class="is-hidden">
        <div class="modal__content">
            <h1 class="modal__title modal__title--warning" data-i18n="mixerWizardModalTitle"></h1>
            <div class="modal__text">
                <!-- Initial instructions (shown before wizard starts) -->
                <div id="wizard-intro" class="wizard-section">
                    <p data-i18n="mixerWizardIntro"></p>
                    <ul class="wizard-checklist">
                        <li data-i18n="mixerWizardStep1"></li>
                        <li data-i18n="mixerWizardStep2"></li>
                        <li data-i18n="mixerWizardStep3"></li>
                    </ul>
                    <div class="wizard-buttons">
                        <a id="wizard-start-button" class="modal__button modal__button--main" data-i18n="mixerWizardStart"></a>
                    </div>
                </div>

                <!-- Wizard in progress (shown during motor identification) -->
                <div id="wizard-progress" class="wizard-section is-hidden">
                    <p class="wizard-prompt">
                        <span data-i18n="mixerWizardLocating"></span>
                        <strong id="wizard-current-motor">1</strong>.
                        <span data-i18n="mixerWizardClickPosition"></span>
                    </p>
                    <div class="wizard-progress-bar">
                        <div class="wizard-progress-step" data-step="0">1</div>
                        <div class="wizard-progress-step" data-step="1">2</div>
                        <div class="wizard-progress-step" data-step="2">3</div>
                        <div class="wizard-progress-step" data-step="3">4</div>
                    </div>
                </div>

                <!-- Wizard complete (shown when all motors identified) -->
                <div id="wizard-complete" class="wizard-section is-hidden">
                    <p data-i18n="mixerWizardComplete"></p>
                    <div class="wizard-buttons">
                        <a id="wizard-apply-button" class="modal__button modal__button--main" data-i18n="mixerWizardModalApply"></a>
                    </div>
                </div>

                <!-- Motor position preview - always visible -->
                <div class="wizard-preview">
                    <div class="wizard-motor-preview">
                        <img src="./resources/motor_order/custom.svg" id="wizard-preview-img"/>
                        <!-- Position 0: Rear-Right -->
                        <div class="wizard-position-btn" id="wizardPos0" data-position="0">
                            <span class="position-label"></span>
                        </div>
                        <!-- Position 1: Front-Right -->
                        <div class="wizard-position-btn" id="wizardPos1" data-position="1">
                            <span class="position-label"></span>
                        </div>
                        <!-- Position 2: Rear-Left -->
                        <div class="wizard-position-btn" id="wizardPos2" data-position="2">
                            <span class="position-label"></span>
                        </div>
                        <!-- Position 3: Front-Left -->
                        <div class="wizard-position-btn" id="wizardPos3" data-position="3">
                            <span class="position-label"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="content_toolbar">
        <div class="btn save_btn">
            <a id="save-button" class="save" href="#" data-i18n="configurationButtonSave"></a>
        </div>
    </div>
</div>
